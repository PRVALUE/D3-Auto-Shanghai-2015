<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>上海车展</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
    <script src='http://autoshanghai2015-cdn.prvalue.cn/js/jquery.min.js'></script>
    <script src="http://autoshanghai2015-cdn.prvalue.cn/js/d3.js"></script>
    <!-- Link CSS -->
    <link rel="stylesheet" href="http://autoshanghai2015-cdn.prvalue.cn/swiper.min.css">
    <link rel="stylesheet" href="css/my-css.css" media="screen" type="text/css" />
    <link rel="stylesheet" type="text/css" href="css/style.css"/>
</head>
<body>
    <!-- Swiper -->
    <div class="swiper-container">
        <div class="swiper-wrapper">
            <div class="swiper-slide">
                <div id="page0">
                    <img src="http://autoshanghai2015-cdn.prvalue.cn/img/p1.png" style="height:95%;width:100%">
                </div>
            </div>
            <div class="swiper-slide">
                <div id="page1"></div>
            </div>
            <div class="swiper-slide">
                <div id="page2"></div>
            </div>
            <div class="swiper-slide">
                <div id="page3"></div>
            </div>
            <div class="swiper-slide">
                <div id="page4"></div>
            </div>
            <div class="swiper-slide">
                <div id="page5"></div>
            </div>
            <div class="swiper-slide">
                <div id="page6"></div>
            </div>
            <div class="swiper-slide">
                <div id="page7"></div>
            </div>
            <div class="swiper-slide">
                <div id="page8"></div>
            </div>
            <div class="swiper-slide">
                <div id="page9"></div>
            </div>
            <div class="swiper-slide">
                <div id="page10"></div>
            </div>
            <div class="swiper-slide">
                <div id="page11"></div>
            </div>
            <div class="swiper-slide">
                <div id="page12"></div>
            </div>
            <div class="swiper-slide">
                <div id="page13"></div>
            </div>
            <div class="swiper-slide">
                <div id="page14"></div>
            </div>
            <div class="swiper-slide">
                <div id="page15"></div>
            </div>
            <div class="swiper-slide">
                <div id="page16"></div>
            </div>
            <div class="swiper-slide">
                <div id="page17"></div>
            </div>
            <div class="swiper-slide">
                <div id="page18"></div>
            </div>
            <div class="swiper-slide">
                <div id="page19"></div>
            </div>
            <div class="swiper-slide">
                <div id="page20"></div>
            </div>
            <div class="swiper-slide">
                <div id="page21"></div>
            </div>
            <div class="swiper-slide">
                <div id="page22"></div>
            </div>
            <div class="swiper-slide">
                <div id="page23"></div>
            </div>
            <div class="swiper-slide">
                <div id="page24"></div>
            </div>
            <div class="swiper-slide">
                <div id="page25"></div>
            </div>
            <div class="swiper-slide">
                <div id="page26"></div>
            </div>
            <div class="swiper-slide">
                <div id="page27"></div>
            </div>
            <div class="swiper-slide">
                <div id="page28"></div>
            </div>
            <div class="swiper-slide">
                <div id="page29"></div>
            </div>
            <div class="swiper-slide">
                <div id="page30"></div>
            </div>
            <div class="swiper-slide">
                <div id="page31"></div>
            </div>
            <div class="swiper-slide">
                <div id="page32"></div>
            </div>
            <div class="swiper-slide">
                <div id="page33"></div>
            </div>
            <div class="swiper-slide">
                <div id="page34"></div>
            </div>
            <div class="swiper-slide">
                <div id="page35"></div>
            </div>
            <div class="swiper-slide">
                <div id="page36"></div>
            </div>
            <div class="swiper-slide">
                <div id="page37"></div>
            </div>
            <div class="swiper-slide">
                <div id="page38"></div>
            </div>
            <div class="swiper-slide">
                <div id="page39"></div>
            </div>
        </div>
    </div>

    <!-- Swiper JS -->
    <script src="http://autoshanghai2015-cdn.prvalue.cn/swiper.min.js"></script>

    <!-- Initialize Swiper -->
    <script>
    var w = screen.width;
    var h = screen.height;
    var wid, heig;
    console.log('width: '+w); console.log('height: '+h);
    if (w < h) {
            if (h/w >1.584){
                wid = w;
                heig = 1.584*w;
            } else {
                wid = h/1.584;
                heig = h;
            }
        } else {
            wid = h/1.584;
            heig = h;
        }
    var swiper = new Swiper('.swiper-container', {
        direction: 'vertical',
        width: wid,
        height: heig,
        onSlideChangeEnd: function (swiper) {
            var prePageId = '#page' + swiper.previousIndex;
            for (i = 0; i < 40; i++) {
                if (swiper.activeIndex == i && $( "#page" + i ).is(':empty')) {
                    $(prePageId).empty();
                    $( "#page" + i ).load( (i+1).toString() + "-temp.html" );
                }
            }
        }
    });
    </script>
</body>
</html>
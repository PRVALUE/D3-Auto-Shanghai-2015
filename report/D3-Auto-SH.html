<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>上海车展</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
    <script src='http://autoshanghai2015-cdn.prvalue.cn/js/jquery.min.js'></script>

    <!-- Link CSS -->
    <link rel="stylesheet" href="http://autoshanghai2015-cdn.prvalue.cn/swiper.min.css">
    <link rel="stylesheet" href="css/my-css.css" media="screen" type="text/css" />
    <link rel="stylesheet" type="text/css" href="css/style.css"/>
</head>
<body>
    <!-- Swiper -->
    <div class="swiper-container">
        <div class="swiper-wrapper">
            <div class="swiper-slide">
                <img src="http://autoshanghai2015-cdn.prvalue.cn/img/p1.png" style="height:95%;width:100%">
            </div>
            <div class="swiper-slide">
                <div id="page1"></div>
            </div>
            <div class="swiper-slide">
                <div id="page2"></div>
            </div>
            <div class="swiper-slide">Slide 4</div>
            <div class="swiper-slide">Slide 5</div>
            <div class="swiper-slide">Slide 6</div>
            <div class="swiper-slide">Slide 7</div>
        </div>
    </div>

    <!-- Swiper JS -->
    <script src="http://autoshanghai2015-cdn.prvalue.cn/swiper.min.js"></script>

    <!-- Initialize Swiper -->
    <script>
    var w = screen.width;
    var h = screen.height;
    var wid, heig;
    console.log('width: '+w); console.log('height: '+h);
    if (w < h) {
            if (h/w >1.584){
                wid = w;
                heig = 1.584*w;
            } else {
                wid = h/1.584;
                heig = h;
            }
        } else {
            wid = h/1.584;
            heig = h;
        }
    var swiper = new Swiper('.swiper-container', {
        direction: 'vertical',
        width: wid,
        height: heig,
        onSlideChangeEnd: function (swiper) {
            if (swiper.activeIndex == 1 && $( "#page1" ).is(':empty')) {
                $( "#page1" ).load( "2-temp.html" );
            }
            if (swiper.activeIndex == 2 && $( "#page2" ).is(':empty')) {
                $( "#page2" ).load( "3-temp.html" );
            }
        }
    });
    </script>
</body>
</html>